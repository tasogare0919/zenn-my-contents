---
title: "GitHub Actions でブランチ削除をトリガーに処理を動かす"
emoji: "📝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [GitHub Actions]
published: true
---
# 概要
特定ブランチの削除をした時に動く処理ができるかをできるようにする GitHub Actions を検証したので備忘録としてまとめます.

## 検証した GitHub Actions の YAML
検証したのは下記の YAML ですが,どのブランチを消しても動いてしまうので特定ブランチのみという制御を入れたい場合は` if: startsWith(github.event.ref, '[動作させたいブランチ]')`の処理を追加するなどが必要そうです.

```yaml
name: Remove Branch Actions

on:
  delete

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: 'Checkout'
        uses: actions/checkout@v2

      - run: |
          [処理を書く]
        if: startsWith(github.event.ref, '[動作させたいブランチ]')
```

### 参照情報
https://docs.github.com/en/actions/reference/events-that-trigger-workflows#delete

https://zenn.dev/mdoi/articles/be393543ccee550b0456